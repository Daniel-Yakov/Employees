version: '3.0'

services:
  nginx:
    container_name: nginx 
    ports:
      - 80:80
    image: nginx:1.23.3-alpine-slim

  app:
    container_name: app
    image: employee:latest
    environment:
      MONGO_URI: mongodb://mongodb:27017/employees

  mongodb:
    container_name: mongodb
    image: mongo:6.0.4

networks:
  # same as jenkins' network 
  default:
    name: portfolio_default
    external: true